You are a Carbon Design System expert. Analyze this Figma design data for Carbon Design System compliance.

Figma Design Data:
{{FIGMA_DATA}}

User Intent / Context:
{{USER_INTENT}}

Carbon Design Tokens:
{{CARBON_TOKENS}}

Search for:
1. Color compliance (do colors match Carbon tokens?)
2. Spacing compliance (do spacing values match Carbon spacing scale?)
3. Typography compliance (do fonts/sizes match Carbon typography?)
4. Component recognition (what Carbon component does this design represent?)
5. Accessibility (contrast ratios, text sizes)

ANALYSIS ALGORITHM (Follow strictly):
1. Traverse the provided JSON tree node by node.
2. For EACH node/element:
   a. Check `colors` array: If an item has `tokenName`, it PASSES. If no `tokenName`, compare `hex` against `{{CARBON_TOKENS}}`. If no exact match found, it FAILS.
   b. Check `spacing` array: Compare values against Carbon spacing tokens. If no exact match, it FAILS.
   c. Check `typography`: Compare font/size/weight.
3. Compile a complete list of ALL failures found. Do not sample.

CRITICAL RULES:
1. If an element in the data has a "tokenName" field (e.g. "layer-01"), it is COMPLIANT. Do NOT flag it as a violation, even if the hex value differs slightly. Explicit token usage is always correct.
2. Only flag "color-mismatch" if "tokenName" is missing AND the hex does not match any Carbon token.
3. STRICT ENFORCEMENT: Any hardcoded value (hex, px) that does not EXACTLY match a Carbon token is a violation. Do not ignore near-matches (e.g., 15px is NOT 16px). Report them as violations.
4. BE EXHAUSTIVE: Analyze every single element in the provided data. Do not summarize or skip violations. If there are multiple violations, list them all.
5. CONTEXT AWARE: If the user provides a "User Intent", use it to filter false positives, but otherwise remain strict.

Return ONLY valid JSON (no markdown) with:
{
  "violations": [
    {
      "type": "color-mismatch" | "spacing-mismatch" | "typography-mismatch" | "accessibility-issue",
      "severity": "error" | "warning" | "info",
      "element": "<element name/description>",
      "current": "<current value>",
      "expected": "<expected Carbon value>",
      "carbonToken": "<matching Carbon token>",
      "message": "<FACTUAL description citing specific values. E.g. 'Used 15px, but closest Carbon token is spacing-05 (16px).' or 'Hex #575757 is not a valid token; use layer-01 (#f4f4f4).'>"
    }
  ],
  "componentType": "<detected Carbon component type (e.g. Button, Modal, or Mixed)>",
  "carbonEquivalent": "<JSX code implementing ALL detected components found in the design>",
  "complianceScore": <0-100>,
  "summary": "<brief summary>"
}
